<mat-toolbar class="toolbar">
  <mat-icon>local_fire_department</mat-icon>
  <span>Shtekata Kanban Board</span>
</mat-toolbar>

<!-- <app-task *ngFor='let task of todo' [task]='task'></app-task> -->
<div class="content-wrapper">
  <button mat-button (click)='newTask()'>
    <mat-icon>add</mat-icon> Add Task
  </button>
  <div class="container-wrapper">
    <div class="container">
      <h2 class="title-todo">Backlog</h2>
      <mat-card class="list todo-list" cdkDropList id="todo" #todoList='cdkDropList' [cdkDropListData]='todo|async'
        (cdkDropListDropped)='drop($event)' [cdkDropListConnectedTo]='[inProgressList, doneList]'>
        <p class="empty-label" *ngIf='(todo|async)?.length===0'>Empty list</p>
        <app-task class="todo-task" cdkDrag *ngFor='let task of todo|async' [task]='task' (edit)='edit("todo", $event)'>
        </app-task>
      </mat-card>
    </div>
    <div class="container">
      <h2 class="title-inProgress">In Progress</h2>
      <mat-card class="list inProgress-list" cdkDropList id="inProgress" #inProgressList='cdkDropList'
        [cdkDropListData]='inProgress|async' (cdkDropListDropped)='drop($event)'
        [cdkDropListConnectedTo]='[todoList, doneList]'>
        <p class="empty-label" *ngIf='(inProgress|async)?.length===0'>Empty list</p>
        <app-task class="inProgress-task" cdkDrag *ngFor='let task of inProgress|async' [task]='task'
          (edit)='edit("inProgress", $event)'>
        </app-task>
      </mat-card>
    </div>
    <div class="container">
      <h2 class="title-done">Done</h2>
      <mat-card class="list done-list" cdkDropList id="done" #doneList='cdkDropList' [cdkDropListData]='done|async'
        (cdkDropListDropped)='drop($event)' [cdkDropListConnectedTo]='[todoList, inProgressList]'>
        <p class="empty-label" *ngIf='(done|async)?.length===0'>Empty list</p>
        <app-task class="done-task" cdkDrag *ngFor='let task of done|async' [task]='task' (edit)='edit("done", $event)'>
        </app-task>
      </mat-card>
    </div>
  </div>
</div>